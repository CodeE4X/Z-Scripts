local KeyGuardLibrary = loadstring(game:HttpGet("https://cdn.keyguardian.org/library/v1.0.0.lua"))()
local trueData = "8bab0f0161b840bf9efbded57e1e1ac9"
local falseData = "226ccf0d217d4f9e98c2898551f22e7d"

KeyGuardLibrary.Set({
  publicToken = "5b7a792577754dbcbaa87f5cc7944262",
  privateToken = "abf09ec810524e0794c71c291a926ce0",
  trueData = trueData,
  falseData = falseData,
})

-- GUI Key System
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local Description = Instance.new("TextLabel")
local KeyInput = Instance.new("TextBox")
local VerifyButton = Instance.new("TextButton")
local GetKeyButton = Instance.new("TextButton")
local JoinDiscordButton = Instance.new("TextButton")
local HowToKeyButton = Instance.new("TextButton")

-- Dragging functionality
local UIS = game:GetService("UserInputService")
local dragging, dragInput, dragStart, startPos

Frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = Frame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

Frame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UIS.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        Frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- ScreenGui Properties
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.Name = "KeySystemGUI"

-- Frame Properties
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.Size = UDim2.new(0, 300, 0, 250)
Frame.Position = UDim2.new(0.5, -150, 0.5, -125)
Frame.AnchorPoint = Vector2.new(0.5, 0.5)
Frame.BorderSizePixel = 0
Frame.ClipsDescendants = true

-- Add corner and shadow
local corner = Instance.new("UICorner", Frame)
corner.CornerRadius = UDim.new(0, 10)

local shadow = Instance.new("ImageLabel", Frame)
shadow.Size = UDim2.new(1, 10, 1, 10)
shadow.Position = UDim2.new(0.5, 5, 0.5, 5)
shadow.AnchorPoint = Vector2.new(0.5, 0.5)
shadow.BackgroundTransparency = 1
shadow.Image = "rbxassetid://1316045217"
shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
shadow.ImageTransparency = 0.6

-- Title Properties
Title.Parent = Frame
Title.Text = "Key System"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 20

-- Description Properties
Description.Parent = Frame
Description.Text = "Have Problem With Key? Join Our Discord!"
Description.TextColor3 = Color3.fromRGB(200, 200, 200)
Description.Size = UDim2.new(1, -20, 0, 50)
Description.Position = UDim2.new(0, 10, 0, 35)
Description.BackgroundTransparency = 1
Description.Font = Enum.Font.SourceSans
Description.TextSize = 14
Description.TextWrapped = true

-- KeyInput Properties
KeyInput.Parent = Frame
KeyInput.PlaceholderText = "Put Key Here...."
KeyInput.Text = ""
KeyInput.Size = UDim2.new(1, -20, 0, 30)
KeyInput.Position = UDim2.new(0, 10, 0, 90)
KeyInput.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
KeyInput.TextColor3 = Color3.fromRGB(255, 255, 255)
KeyInput.Font = Enum.Font.SourceSans
KeyInput.TextSize = 16

-- Button Properties with hover effect
local function animateButton(button)
    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    end)
    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    end)
end

-- VerifyButton Properties
VerifyButton.Parent = Frame
VerifyButton.Text = "Check Key"
VerifyButton.Size = UDim2.new(0.5, -15, 0, 30)
VerifyButton.Position = UDim2.new(0, 10, 0, 130)
VerifyButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
VerifyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
VerifyButton.Font = Enum.Font.SourceSans
VerifyButton.TextSize = 16
animateButton(VerifyButton)

-- GetKeyButton Properties
GetKeyButton.Parent = Frame
GetKeyButton.Text = "Get Key"
GetKeyButton.Size = UDim2.new(0.5, -15, 0, 30)
GetKeyButton.Position = UDim2.new(0.5, 5, 0, 130)
GetKeyButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
GetKeyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
GetKeyButton.Font = Enum.Font.SourceSans
GetKeyButton.TextSize = 16
animateButton(GetKeyButton)

-- JoinDiscordButton Properties
JoinDiscordButton.Parent = Frame
JoinDiscordButton.Text = "Join Discord"
JoinDiscordButton.Size = UDim2.new(1, -20, 0, 30)
JoinDiscordButton.Position = UDim2.new(0, 10, 0, 170)
JoinDiscordButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
JoinDiscordButton.TextColor3 = Color3.fromRGB(255, 255, 255)
JoinDiscordButton.Font = Enum.Font.SourceSans
JoinDiscordButton.TextSize = 16
animateButton(JoinDiscordButton)

-- HowToKeyButton Properties
HowToKeyButton.Parent = Frame
HowToKeyButton.Text = "How To Key"
HowToKeyButton.Size = UDim2.new(1, -20, 0, 30)
HowToKeyButton.Position = UDim2.new(0, 10, 0, 210)
HowToKeyButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
HowToKeyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
HowToKeyButton.Font = Enum.Font.SourceSans
HowToKeyButton.TextSize = 16
animateButton(HowToKeyButton)

-- "Get Key" button functionality
GetKeyButton.MouseButton1Click:Connect(function()
    local keyUrl = KeyGuardLibrary.getLink()
    if setclipboard then
        setclipboard(keyUrl)
        game.StarterGui:SetCore("SendNotification", {
            Title = "Clipboard",
            Text = "URL Has Copied To Your Clipboard",
            Icon = ""
        })
    else
        warn("Clipboard API Not Supported!")
    end
end)

-- Key verification functionality
VerifyButton.MouseButton1Click:Connect(function()
    local inputKey = KeyInput.Text
    local response = KeyGuardLibrary.validateDefaultKey(inputKey)
    if response == trueData then
        ScreenGui:Destroy()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/StarX-exploit/executed/refs/heads/main/exe.lua"))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/CodeE4X/miaw/refs/heads/main/miaw.lua"))()
    else
        KeyInput.Text = ""
        KeyInput.PlaceholderText = "Key is wrong, Copy it Correctly"
    end
end)

-- "Join Discord" button functionality
JoinDiscordButton.MouseButton1Click:Connect(function()
    local discordUrl = "https://discord.gg/EwARkGncq4"
    if setclipboard then
        setclipboard(discordUrl)
        game.StarterGui:SetCore("SendNotification", {
            Title = "Clipboard",
            Text = "Discord link has been copied to your clipboard",
            Icon = ""
        })
    else
        warn("Clipboard API Not Supported!")
    end
end)

-- "How To Key" button functionality
HowToKeyButton.MouseButton1Click:Connect(function()
    game.StarterGui:SetCore("DevConsoleVisible", true)
    warn("========How To get Key==========")
    print("1. Press Get Key")
    print("2. Go To Chrome And Paste The URL")
    print("3. Press Continue And Close All Pop Up Web Until Open The Linkvertise")
    print("4. Then Finished The Linkvertise")
    print("5. Copy The Key And Close All Pop up(DO NOT ACTIVATE AUTO TRANSLATE)")
    print("6. Paste It To Key System")
end)


